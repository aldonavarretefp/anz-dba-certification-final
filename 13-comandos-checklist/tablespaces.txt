SELECT
    TABLESPACE_NAME,
    COUNT(FILE_NAME) AS Number_Of_Datafiles,
    SUM(BYTES) / 1024 / 1024 AS "Total_Allocated_MB",
    SUM(CASE WHEN AUTOEXTENSIBLE = 'YES' THEN MAXBYTES ELSE BYTES END) / 1024 / 1024 AS "Potential_Max_Size_MB"
FROM
    DBA_DATA_FILES
GROUP BY
    TABLESPACE_NAME
ORDER BY
    TABLESPACE_NAME;
    